<div>
    <div
        v-for="(file, i) in essayFiles"
        :key="i"
        class="row align-items-end mb-3"
    >
        <div class="col-md-8 mb-2">
            <input
                :id="`file` + i"
                type="file"
                :name="`file` + i"
                class="inputfile"
                @click="setFileIndex(i)"
                @change="handleFileSelect"
            />

            <div
                class="upload-doc-wrapper justify-content-between"
                style="max-width: 250px"
            >
                <div class="d-flex align-items-center">
                    <div class="icon-wrapper">
                        <svg
                            class="icon"
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <g clip-path="url(#clip0)">
                                <path
                                    d="M15.5002 8.16634C15.2557 8.16634 15.0418 8.07467 14.8585 7.89134L10.0002 3.03301L5.14183 7.89134C4.77516 8.25801 4.19461 8.25801 3.8585 7.89134C3.49183 7.52467 3.49183 6.94412 3.8585 6.60801L9.3585 1.10801C9.72516 0.741341 10.3057 0.741341 10.6418 1.10801L16.1418 6.60801C16.5085 6.97467 16.5085 7.55523 16.1418 7.89134C15.9585 8.07467 15.7446 8.16634 15.5002 8.16634Z"
                                    fill="#1070B7"
                                ></path>
                                <path
                                    d="M16.3557 19.1659H3.64461C2.08627 19.1659 0.833496 17.9131 0.833496 16.3548V12.6882C0.833496 12.1687 1.23072 11.7715 1.75016 11.7715C2.26961 11.7715 2.66683 12.1687 2.66683 12.6882V16.3548C2.66683 16.9048 3.09461 17.3326 3.64461 17.3326H16.3557C16.9057 17.3326 17.3335 16.9048 17.3335 16.3548V12.6882C17.3335 12.1687 17.7307 11.7715 18.2502 11.7715C18.7696 11.7715 19.1668 12.1687 19.1668 12.6882V16.3548C19.1668 17.9131 17.914 19.1659 16.3557 19.1659Z"
                                    fill="#1070B7"
                                ></path>
                                <path
                                    d="M10.0002 14.4911C9.48072 14.4911 9.0835 14.0939 9.0835 13.5744V2.72721C9.0835 2.20777 9.48072 1.81055 10.0002 1.81055C10.5196 1.81055 10.9168 2.20777 10.9168 2.72721V13.5744C10.9168 14.0939 10.5196 14.4911 10.0002 14.4911Z"
                                    fill="#1070B7"
                                ></path>
                            </g>
                            <defs>
                                <clipPath id="clip0">
                                    <rect
                                        width="18.3333"
                                        height="18.3333"
                                        fill="white"
                                        transform="translate(0.833496 0.833008)"
                                    ></rect>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>

                    <!-- file name -->
                    <div class="ml-3">
                        <!-- if edit file name -->
                        <div
                            v-if="
                            checkFilesToRename(
                                i
                            )
                        "
                            class="doc-title d-flex align-items-center"
                        >
                            <input
                                :id="`fileName${i}`"
                                v-model="
                                file.name.split(
                                    '.'
                                )[0]
                            "
                                class="
                                    form-control
                                    h-auto
                                    fs-14
                                    px-1
                                    py-1
                                    flex-grow-1
                                "
                                placeholder="Enter name"
                            />
                            <!-- .doc -->
                        </div>

                        <div v-else class="doc-title text-truncate">
                            {{ file.name ? file.name : 'No File' }}
                        </div>
                        <div v-if="file.size > 0" class="doc-size">
                            {{ file.size / 1000 }} kb
                        </div>
                    </div>
                </div>
                <label :for="`file` + i">
                    <div class="text-primary fs-14 pointer">
                        <strong>Upload File</strong>
                    </div>
                </label>
            </div>
        </div>
        <div class="col-md-4 text-right text-md-left mt-2 mt-md-0 pb-2">
            <span
                v-if="
                !checkFilesToRename(i) &&
                file.name
            "
                class="text-primary mr-2 fs-14 font-weight-bold pointer"
                @click="renameFile(i)"
                >Rename</span
            >
            <span
                v-if="checkFilesToRename(i)"
                class="text-primary mr-2 fs-14 font-weight-bold pointer"
                @click="saveRenamedFiles(i)"
                >Save</span
            >
            <span
                v-if="i !== 0"
                class="text-danger mr-2 fs-14 font-weight-bold pointer"
                @click="deleteAttachment(i)"
                >Delete</span
            >
        </div>
    </div>
</div>
